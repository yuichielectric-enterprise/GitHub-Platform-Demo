name: Create environment

# Controls when the action will run. 
on:
  workflow_dispatch:

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:

  environments-deployment:
    name: "ðŸŒ² Create GitHub Environments"
    runs-on: ubuntu-latest

    steps:
    - uses: octokit/request-action@v2.x
      id: post_create_environment
      with:
        route: POST /repos/{owner}/{repo}/environments/TestJames
        owner: octodemo
        repo: GitHub-Platform-Demo
        mediaType: application/vnd.github.v3+json
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
    - run: "echo latest release: ${{ steps.post_create_environment.outputs.data }}"
