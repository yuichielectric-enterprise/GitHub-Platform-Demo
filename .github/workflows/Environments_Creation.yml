name: Create environment

# Controls when the action will run. 
on:
  workflow_dispatch:
    inputs:
      environment-name: 
        description: 'Name of Environment to generate'
        required: true

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:

  environments-deployment:
    name: "ðŸŒ² Create GitHub Environments"
    runs-on: ubuntu-latest

    steps:
    - uses: octokit/request-action@v2.x
      id: post_create_environment
      with:
        route: POST /repos/${{ github.repository	}}/environments/${{ github.event.inputs.environment-name }}
      env:
        GITHUB_TOKEN: ${{ secrets.GHCR_PASSWORD }}
    - run: "echo latest release: ${{ steps.post_create_environment.outputs.data }}"
